[supervisord]
nodaemon=true
logfile=/app/supervisor.log

[program:api]
command=uvicorn api:app --host 0.0.0.0 --port 8000 --log-level debug
autostart=true
autorestart=false      ; ⬅️ disable restart for now
stdout_logfile=/app/api.log
stderr_logfile=/app/api.log
redirect_stderr=true

[program:dashboard]
command=streamlit run dashboard.py --server.port=8501 --server.address=0.0.0.0
autostart=true
autorestart=true
stdout_logfile=/app/dashboard.log
stderr_logfile=/app/dashboard.log
redirect_stderr=true
